실행 컨텍스트란? 

실행 가능한 코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다.



실행 가능한 코드의 분류 (4가지)

전역코드,함수코드,eval코드,모듈 코드



실행컨텍스트 스택의 최상위에 존재하는 실행컨텍스트를 () 라고 한다

실행 중인 실행 컨텍스트



아래 코드가 42가 출력되는 이유를 실행컨텍스트관점에서 설명하시오

var x = 1;
const y = 2;

function foo (a) {
  var x = 3;
  const y = 4;

  function bar (b) {
    const z = 5;
    console.log(a + b + x + y + z);
}
  bar(10);
}

foo(20); // 42



전역코드가 평가되어, var키워드로 선언한 변수 x는 window에 undefined 값을 갖는다.

const 키워드로 선언한 y는 선언적 환경레코드에 초기화되지 않음 값을 갖는다.

foo함수는 전역객체에 함수 객체로 저장된다



전역코드가 실행되어 x에 1, y에 2값을 할당하고 foo함수를 호출하여 전역코드의 실행을 중단하고

함수내부로 들어가 foo함수를 평가한다



foo함수를 평가할때 var키워드를 사용한 x는 undefined, y는 uninitalized, a는 undefined bar함수는

함수객체를 갖는다



foo함수가 실행되면  a 20, x 3, y는 4값을 갖고 bar함수를 호출하며 foo함수실행을 중단한다



bar함수 코드가 평가되면 b 는 undefined, z는 uninitalized값을 갖게된다

bar함수가 실행되면 b는 10 z는 5값을 갖게되고  console.log가 실행되는데,

식별자 console을 찾으며 스코프 체인을 타고올라가 전역 객체에서 console을 찾고

cosnole객체의 프로토 타입 체인을 통해 log메소드를 검색한다.



표현식 a+b+x+y+z를 평가한다  현재 실행중인 bar함수에 b와 z값이 있고 ( 10 ,5)

외부렉시컬환경참조를 타고올라가면 a,x,y값이 있다 (20,3,4)

그리하여 42값을 생성해서 호출한다. x,y값이 전역에도 존재하지만 스코프 체인을 타고올라가며 이미 다찾았기 때문에 bar함수를 종료한다.

그후 foo함수 ,전역코드의 실행을 종료한다





아래 코드의  결과를 실행컨텍스트 관점에서 설명하시오

let x = 1;

if (true) {
  let x = 10;
  console.log(x); // 10
}

console.log(x); // 1



전역 코드가 평가되어 선언적 환경레코드에 x uninitalized 시킨후, 코드가 실행될때

x=1값을 갖는다.



다만 if문이 평가,실행될때 블록렉시컬환경을 만들어 , 선언적환경레코드에 x는 10값을 갖는데

if문 실행이 종료되면 if문이 실행되기 이전의 렉시컬 환경으로 돌아가 x=1이 출력된다.