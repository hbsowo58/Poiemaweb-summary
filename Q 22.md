실행 컨텍스트란? 

실행 가능한 코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다.



실행 가능한 코드의 분류 (4가지)

전역코드,함수코드,eval코드,모듈 코드



실행컨텍스트 스택의 최상위에 존재하는 실행컨텍스트를 () 라고 한다

실행 중인 실행 컨텍스트



아래 코드가 42가 출력되는 이유를 실행컨텍스트관점에서 설명하시오

var x = 1;
const y = 2;

function foo (a) {
  var x = 3;
  const y = 4;

  function bar (b) {
    const z = 5;
    console.log(a + b + x + y + z);
}
  bar(10);
}

foo(20); // 42



전역코드가 평가되어, var키워드로 선언한 변수 x는 window에 undefined 값을 갖는다.

const 키워드로 선언한 y는 선언적 환경레코드에 초기화되지 않음 값을 갖는다.

foo함수는 전역객체에 함수 객체로 저장된다



전역코드가 실행되어 x에 1, y에 2값을 할당하고 foo함수를 호출하여 전역코드의 실행을 중단하고

함수내부로 들어가 foo함수를 평가한다



foo함수를 평가할때 var키워드를 사용한 x는 undefined, y는 uninitalized, a는 undefined bar함수는

함수객체를 갖는다



foo함수가 실행되면  a 20, x 3, y는 4값을 갖고 bar함수를 호출하며 foo함수실행을 중단한다



bar함수 코드가 평가되면 b 는 undefined, z는 uninitalized값을 갖게된다

bar함수가 실행되면 b는 10 z는 5값을 갖게되고  console.log가 실행되는데,

식별자 console을 찾으며 스코프 체인을 타고올라가 전역 객체에서 console을 찾고

cosnole객체의 프로토 타입 체인을 통해 log메소드를 검색한다.



표현식 a+b+x+y+z를 평가한다  현재 실행중인 bar함수에 b와 z값이 있고 ( 10 ,5)

외부렉시컬환경참조를 타고올라가면 a,x,y값이 있다 (20,3,4)

그리하여 42값을 생성해서 호출한다. x,y값이 전역에도 존재하지만 스코프 체인을 타고올라가며 이미 다찾았기 때문에 bar함수를 종료한다.

그후 foo함수 ,전역코드의 실행을 종료한다





아래 코드의  결과를 실행컨텍스트 관점에서 설명하시오

let x = 1;

if (true) {
  let x = 10;
  console.log(x); // 10
}

console.log(x); // 1



전역 코드가 평가되어 선언적 환경레코드에 x uninitalized 시킨후, 코드가 실행될때

x=1값을 갖는다.



다만 if문이 평가,실행될때 블록렉시컬환경을 만들어 , 선언적환경레코드에 x는 10값을 갖는데

if문 실행이 종료되면 if문이 실행되기 이전의 렉시컬 환경으로 돌아가 x=1이 출력된다.





실행 컨텍스트란 무엇인가요?

- A.

  실행 가능한 코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리 하는 영역

------

실행 컨텍스트 스택에 가장 최상단에 위치해있다는 것은 무슨 말인가요?

- A.

  현재 실행중인 코드의 실행 컨텍스트이다.

------

자바스크립트가 지원하는 것을 고르시오 a 싱글 스레드 b 멀티 스레드 c 동기식 처리 d 비동기식 처리

- A.

  a c d

------

동기와 비동기의 차이에 대해서 설명하세요.

- A.

  동기는 직렬적으로 테스크를 수행한다. 테스크는 순차적으로 실행되며 어떤 작업이 수행 중이면 다음 작업은 대기한다. 비동기는 테스크가 종료되지 않은 상태라 하더라도 대기하지 않고 다음 태스크를 수행한다.

------

자바스크립트의 렉시컬 환경은 어떤 역할을 하나요?

- A.

  스코프를 구분하여 식별자를 등록하고 관리하는 저장소 역할





Q1. 실행 컨텍스트는   `(a)`   자료 구조로 관리 된다.       `(b)`        혹은      `(c)`   이라 한다.

- A.

  (a) 스택(Stack) (b) 실행 컨텍스트 스택(Execution context stack) (c) 콜 스택(Call stack)

Q2. 실행 컨텍스트 관점에서 스코프 체인의 동작을 설명

- A.

  running execution context의 Lexical Enviroment에서 식별자를 검색할 수 없으면 OuterLexicalEnvironment가 가리키는 상위 Lexical Enviroment으로 이동하여 식별자를 검색한다.

Q3. 각각 어떠한 요소를 찾을때 프로토타입 체인과 스코프 체인의 차이

- A.

  프로토타입 체인은 객체가 가지고있는 프로퍼티를 찾을때 사용되고, 스코프 체인은 식별자를 찾을때 사용된다.

Q4. 전역 실행 컨텍스트를 생성하고 실행 컨텍스트 스택에 생성된 실행 컨텍스트를 푸시하면 해당 실행 컨텍스트는 실행 중인 실행 컨텍스트가 된다. ( O / X )

- A.

  O, 실행 컨텍스트 스택에 푸시된 실행 컨텍스트는 최상위에 올라가면서 running execution context가 된다.

Q5. 실행 컨텍스트 관점에서 var 키워드로 선언된 변수와 let, const로 선언된 변수의 차이

- 

  

1. 다음 빈칸에 알맞은 말을 채우시오.

실행 컨텍스트 스택은 [ 1 ]를 관리한다. 실행 가능한 코드가 **평가되면** 실행 컨텍스트가 생성되고 실행 컨텍스트 스택의 최상위에 쌓인다. 실행 컨텍스트 스택의 최상위에 존재하는 실행 컨텍스트는 언제나 [ 2 ] 이다.

- 답
  1. 코드의 실행 순서를 관리 2. 현재 실행 중인 코드의 실행 컨텍스트

1. 다음 빈칸에 알맞은 말을 채우시오.

비동기식 처리 모델은 자바스크립트에 동시성(concurrency)을 부여하여 싱글 스레드의 약점을 보완해 준다. 하지만 비동기식으로 동작하는 코드는 [ 1 ] 않아 예측이 어렵고 가독성이 좋지 않으며 [ 2 ]을 유발하며 에러 처리가 어렵다는 약점이 있다.

- 답

  1.순차적으로 실행되지 2. 콜백 헬

1. 렉시컬 환경의 역할은 무엇인가?

- 답

  렉시컬 환경은 스코프를 구분하여 식별자를 등록하고 관리하는 저장소 역할을 한다.

1. 렉시컬 환경의 3가지 컴포넌트의 이름을 말하고 간략한 설명을 하시오.

- 답 
  - **환경 레코드(Environment Record)**: **스코프에 포함된 식별자를 등록하고 등록된 식별자에 바인딩된 값을 관리하는 저장소이다.** 환경 레코드는 실행 가능한 코드의 종류에 따라 내용에 차이가 있다.
  - **외부 렉시컬 환경에 대한 참조(Outer Lexical Environment Reference)**: 외부 렉시컬 환경을 가리키는 참조를 저장한다. 외부 렉시컬 환경이란 **해당 실행 컨텍스트를 생성한 실행 가능한 코드를 포함하는 상위 코드의 렉시컬 환경**을 말한다. **이를 통해 단방향 링크드 리스트인 스코프 체인을 구현한다.**
  - **this 바인딩(This binding)**: **렉시컬 환경의 this에 바인딩된 객체(ThisBinding)**를 나타낸다. this 바인딩은 추상 연산 [ResolveThisBinding](https://tc39.github.io/ecma262/#sec-resolvethisbinding)을 통해 결정할 수 있다.

1. 실행 컨텍스트 관점에서 스코프 체인에 대해 설명하시오.

- 답

  스코프 체인은 현재 실행 중인 실행 컨텍스트의 렉시컬 환경에서 시작하여 외부 렉시컬 환경에 대한 참조로 이어지는 렉시컬 환경의 연속이다.



- Q1. ECMAScript는 실행 가능한 코드를 4가지로 분류한다. 이 4가지를 나열하시오.

  1. 전역코드, 2. 함수코드, 3. eval 코드, 4. 모듈 코드

- Q2. 다음은 실행 가능한 코드의 평가와 실행에 관한 내용이다. 빈 칸에 알맞은 용어를 적으시오.

  1. 코드의 평가, 2. 코드의 실행

- Q3. 실행컨텍스트에 대하여 간략하게 설명하시오.

  실행 컨텍스트란 실행 가능한 코드를 평가하고 실행하고 평가하기 위한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역을 일컫는다.

- Q4. 실행컨텍스트의 동작을 살펴보면 하나의 처리가 종료되어야 다음 처리를 실행할 수 있는데 이러한 특징을 (       )(이)라고 부른다.

  동기식 처리 모델

  - Q4-2. 자바스크립트의 실행컨텍스트는 기본적으로 동기식 처리 모델이지만, 비동기식 처리도 역시 가능하다. 하지만 비동기식은 대표적으로 실행 순서를 짐작하기가 어렵고 (         )을(를) 유발한다는 점에서 문제가 있다.

    콜백헬

- Q5. 자바스크립트 엔진이 전역 코드를 평가하는 순서를 순서대로 나열하시오. (그림도 가능)

  1. 전역 실행 컨텍스트 생성
  2. 전역 렉시컬 환경 생성 2.1. 전역 환경 레코드 생성 2.1.1. 객체 환경 레코드 생성 2.1.2. 선언적 환경 레코드 생성 2.2. 외부 렉시컬 환경에 대한 참조 할당 2.3. this 바인딩

1. 실행 컨텍스트란?

   - 답

     실행 컨텍스트(Execution Context)는 식별자, 스코프, 호이스팅, 클로저 등의 동작 원리를 담고 있는 자바스크립트의 핵심 개념으로 실행 가능한 코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다.

2. 실행 컨텍스트가 관리하는 것 3가지는? 간단히 단어로 말해도 됨

   - 답 
     1. 선언에 의해 생성된 모든 **식별자**(변수, 함수, 클래스 등)를 스코프를 구분하여 등록하고 상태 변화(식별자에 바인딩된 값의 변화)를 지속적으로 관리
     2. **스코프**를 중첩 관계에 의해 스코프 체인을 형성해서 스코프 체인을 통해 상위 스코프로 이동하며 식별자를 검색할 수 있게 관리
     3. 현재 실행 중인 **코드의 실행 순서**를 변경(예를 들어 함수 호출에 의한 실행 순서 변경)할 수 있어야 하며 다시 되돌아갈 수도 있게 관리

3. 동기식 처리 모델과 비동기식 처리 모델에 대해 설명하시오.

   - 답

     동기식 처리 모델은 직렬적으로 태스크(task)를 수행한다. 즉, 태스크는 순차적으로 실행되며 어떤 작업이 수행 중이면 다음 작업은 대기하게 된다.

     비동기식 처리 모델(Asynchronous processing model 또는 Non-Blocking processing model)은 병렬적으로 태스크를 수행한다. 즉, 태스크가 종료되지 않은 상태라 하더라도 대기하지 않고 다음 태스크를 실행한다.

4. 렉시컬 환경에 대해 설명하시오.

   - 답

     렉시컬 환경(Lexical Environment)은 식별자가 선언되는 환경을 말한다. 즉, 렉시컬 스코프를 의미한다. 실행 컨텍스트 스택이 코드의 실행 순서를 관리한다면 렉시컬 환경은 스코프와 식별자를 관리한다. 렉시컬 환경은 객체 형태의 스코프(전역, 함수, 블록 스코프)를 만들고 이곳에 식별자를 등록한다. 그리고 등록된 식별자에 바인딩된 값을 관리한다. 즉, 렉시컬 환경은 스코프를 구분하여 식별자를 등록하고 관리하는 저장소 역할을 한다.

5. 아래 코드에서 console.log에 실행 순서를 설명하시오.

   ```
    var x = 1;
    const y = 2;
    
    function foo (a) {
      var x = 3;
      const y = 4;
    
      function bar (b) {
        const z = 5;
        console.log(a + b + x + y + z);
    }
      bar(10);
    }
    
    foo(20); // 42
   ```

   - 답

     **1. 식별자 console 검색**

     먼저 console 식별자를 스코프 체인에서 검색한다. 스코프 체인은 현재 실행 중인 실행 컨텍스트의 렉시컬 환경에서 시작하여 외부 렉시컬 환경에 대한 참조로 이어지는 렉시컬 환경의 연속이다. 따라서 식별자를 검색할 때는 언제나 현재 실행 중인 실행 컨텍스트의 렉시컬 환경에서 검색하기 시작한다.

     실행 중인 실행 컨텍스트는 bar 함수 실행 컨텍스트이다. 따라서 bar 함수 실행 컨텍스트의 bar 함수 렉시컬 환경(bar Lexical Environment)에서 console 식별자 검색을 시작한다. 이곳에는 console 식별자가 없으므로 스코프 체인 상의 상위 스코프, 즉 외부 렉시컬 환경에 대한 참조가 가리키는 foo 함수 렉시컬 환경(foo Lexical Environment)으로 이동하여 console 식별자를 검색한다.

     이곳에도 console 식별자가 없으므로 스코프 체인 상의 상위 스코프, 즉 외부 렉시컬 환경에 대한 참조가 가리키는 전역 렉시컬 환경(Global Lexical Environment)으로 이동하여 console 식별자를 검색한다.

     전역 렉시컬 환경은 객체 환경 레코드와 선언적 환경 레코드로 구성되어 있다. console 식별자는 객체 환경 레코드의 binginObject, 즉 전역 객체에서 찾을 수 있다.

     **2. log 메소드 검색**

     이제 console 식별자에 바인딩된 객체, 즉 console 객체에서 log 메소드를 검색한다. 이때 console 객체의 프로토타입 체인을 통해 메소드를 검색한다. log 메소드는 상속된 프로퍼티가 아니라 console 객체가 직접 소유하는 프로퍼티이다.

     **3. 표현식 a + b + x + y + z의 평가**

     이제 console.log 메소드에 전달할 인수, 즉 표현식 `a + b + x + y + z`를 평가하기 위해 식별자 a, b, x, y, z 검색한다. 식별자는 스코프 체인, 즉 현재 실행 중인 실행 컨텍스트의 렉시컬 환경에서 시작하여 외부 렉시컬 환경에 대한 참조로 이어지는 렉시컬 환경의 연속에서 검색한다.

     식별자 a는 foo 함수 렉시컬 환경에서, 식별자 b는 bar 함수 렉시컬 환경에서, 식별자 x와 y는 foo 함수 렉시컬 환경에서, 식별자 z는 bar 함수 렉시컬 환경에서 검색된다.

     ![img](https://poiemaweb.com/assets/fs-images/22-26.png)

     식별자 검색

     **4. console.log 메소드 호출**

     표현식 `a + b + x + y + z`가 평가되어 생성한 값 42(20 + 10 + 3 + 4 + 5)를 console.log 메소드에 전달하여 호출한다.

